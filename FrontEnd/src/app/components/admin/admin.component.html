<div class="admin-container">
  <header class="admin-header">
    <h1>Admin Dashboard</h1>
    <button class="logout-btn" routerLink="/login">Logout</button>
  </header>


  <section class="stats-section">
    <div class="stat-card total">
      <h3>Total Bookings</h3>
      <p>{{ bookings.length }}</p>
    </div>

    <div class="stat-card completed">
      <h3>Completed</h3>
      <p>{{ getCompletedCount() }}</p>
    </div>

    <div class="stat-card pending">
      <h3>Pending</h3>
      <p>{{ getPendingCount() }}</p>
    </div>
  </section>


  <section class="table-section">
    <h2>All Service Bookings</h2>

    <table class="bookings-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Customer Name</th>
          <th>Email</th>
          <th>Phone</th>
          <th>Vehicle</th>
          <th>Model</th>
          <th>Reg No</th>
          <th>Service Type</th>
          <th>Part Service</th>
          <th>Pickup Option</th>
          <th>Date</th>
          <th>Time Slot</th>
          <th>Remarks</th>
          <th>Status</th>
          <th>Action</th>
        </tr>
      </thead>

      
      <tbody>
        <tr *ngFor="let booking of bookings">
          <td>{{ booking.id }}</td>
          <td>{{ booking.name }}</td>
          <td>{{ booking.email }}</td>
          <td>{{ booking.phone }}</td>
          <td>{{ booking.vehicle }}</td>
          <td>{{ booking.model }}</td>
          <td>{{ booking.regNumber }}</td>
          <td>{{ booking.serviceType }}</td>
          <td>{{ booking.partService || '-' }}</td>
          <td>{{ booking.pickupOption }}</td>
          <td>{{ booking.date }}</td>
          <td>{{ booking.timeSlot }}</td>
          <td>{{ booking.remarks }}</td>
          <td>
            <span
              [ngClass]="{
                completed: booking.status === 'Completed',
                pending: booking.status === 'Pending'
              }"
              >{{ booking.status }}</span
            >
          </td>
          <td>
            <button
              class="complete-btn"
              *ngIf="booking.status === 'Pending'"
              (click)="markCompleted(booking.id)"
            >
              Mark Completed
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <p *ngIf="bookings.length === 0" class="no-data">
      No bookings available yet.
    </p>
  </section>
</div>
